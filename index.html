<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìºë¦¬ë§ˆí… ë ˆì§„ ë¬¼ì„± ê°€ì´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body { font-family: 'Inter', 'Noto Sans KR', sans-serif; -webkit-font-smoothing: antialiased; }
        #detail-view { transition: all 0.3s ease-in-out; }
        .material-btn { transition: all 0.2s ease; cursor: pointer; }
        .material-btn.active { box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.2); transform: scale(1.05); }
        .category-tab.active { background-color: white !important; color: #1e293b !important; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .zoom-badge { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
        .font-bold { font-weight: 700 !important; }
        .material-btn:hover { filter: brightness(0.9); }
        
        .color-dot-clear {
            background: linear-gradient(135deg, #ffffff 0%, #cbd5e1 100%);
            position: relative;
        }
        .color-dot-transparent {
            background-color: #f8fafc;
            background-image: repeating-conic-gradient(#cbd5e1 0% 25%, #ffffff 0% 50%);
            background-position: 50% 50%;
            background-size: 4px 4px;
        }
        .cl-label {
            font-size: 8px;
            color: #475569;
            margin-top: 2px;
            line-height: 1;
        }
        .chart-container { transition: opacity 0.3s ease, transform 0.3s ease; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 p-4 md:p-8">

    <div class="max-w-7xl mx-auto font-bold">
        <header class="mb-6 text-center">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-800 mb-6 font-bold">ìºë¦¬ë§ˆí… ë ˆì§„ ë¬¼ì„± ê°€ì´ë“œ</h1>
            
            <div class="inline-flex p-1 bg-slate-200 rounded-xl mb-6 font-bold">
                <button onclick="window.switchCategory('engineering')" id="tab-engineering" class="category-tab active px-5 py-2 rounded-lg text-sm font-bold transition-all">Engineering ë ˆì§„</button>
                <button onclick="window.switchCategory('functional')" id="tab-functional" class="category-tab px-5 py-2 rounded-lg text-sm font-bold text-slate-500 transition-all font-bold">Functional ë ˆì§„</button>
                <button onclick="window.switchCategory('general')" id="tab-general" class="category-tab px-5 py-2 rounded-lg text-sm font-bold text-slate-500 transition-all font-bold">General ë ˆì§„</button>
            </div>
            <p id="sub-guide" class="text-slate-500 text-base font-medium font-bold">ì†Œì¬ë¥¼ <b>í´ë¦­</b>í•˜ì—¬ ìœ¡ê°í˜• ë¬¼ì„± ë°¸ëŸ°ìŠ¤ì™€ S-S ì»¤ë¸Œë¥¼ ë™ì‹œì— í™•ì¸í•˜ì„¸ìš”.</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8 font-bold">
            <!-- Left: Charts Section -->
            <div class="lg:col-span-7 space-y-6">
                <!-- Radar Chart Container -->
                <div id="radar-container" class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 relative text-left chart-container">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-xl font-bold flex items-center gap-2 font-bold font-bold font-bold">ğŸ“Š Material Property Profile (ë¬¼ì„± ë°¸ëŸ°ìŠ¤)</h2>
                    </div>
                    <div class="relative h-[320px] w-full font-bold font-bold font-bold">
                        <canvas id="radarChart"></canvas>
                    </div>
                </div>

                <!-- S-S Curve Chart Container -->
                <div id="ss-container" class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 relative text-left chart-container">
                    <div class="flex items-center justify-between mb-4 font-bold font-bold">
                        <h2 id="chart-title" class="text-xl font-bold flex items-center gap-2 font-bold">ğŸ“ˆ Stress-Strain Curve (S-S ì»¤ë¸Œ)</h2>
                        <div id="zoom-indicator" class="hidden zoom-badge bg-indigo-100 text-indigo-700 text-[10px] px-2 py-1 rounded-full font-bold">
                            ğŸ” ìŠ¤ì¼€ì¼ ìµœì í™” ëª¨ë“œ (Zoomed)
                        </div>
                    </div>
                    <div class="relative h-[300px] w-full font-bold">
                        <canvas id="ssCurveChart"></canvas>
                    </div>
                </div>

                <!-- Basic Property Summary Grid -->
                <div class="grid grid-cols-2 sm:grid-cols-3 gap-3 text-center text-xs">
                    <div class="bg-white p-3 rounded-xl border border-slate-200 shadow-sm flex flex-col justify-center font-bold font-bold"><h3 class="text-slate-600 mb-1 font-bold">Viscosity (ì ë„)</h3><p class="text-slate-500 font-medium font-bold">íë¦„ì„± = ì¶œë ¥ í¸ì˜ì„±</p></div>
                    <div class="bg-white p-3 rounded-xl border border-slate-200 shadow-sm flex flex-col justify-center font-bold font-bold font-bold"><h3 class="text-blue-600 mb-1 font-bold">E Modulus (íƒ„ì„±ê³„ìˆ˜)</h3><p class="text-slate-500 font-medium font-bold">ê¸°ìš¸ê¸° = ë”±ë”±í•¨(ê°•ì„±)</p></div>
                    <div class="bg-white p-3 rounded-xl border border-slate-200 shadow-sm flex flex-col justify-center font-bold font-bold font-bold"><h3 class="text-red-600 mb-1 font-bold">Strength (ì¸ì¥ê°•ë„)</h3><p class="text-slate-500 font-medium font-bold">ë†’ì´ = ìµœëŒ€ í˜(ê°•ë„)</p></div>
                    <div class="bg-white p-3 rounded-xl border border-slate-200 shadow-sm flex flex-col justify-center font-bold font-bold font-bold font-bold font-bold"><h3 class="text-green-600 mb-1 font-bold">Elongation (ì—°ì‹ ìœ¨)</h3><p class="text-slate-500 font-medium font-bold font-bold font-bold font-bold">ê°€ë¡œ ê¸¸ì´ = ëŠ˜ì–´ë‚¨</p></div>
                    <div class="bg-white p-3 rounded-xl border border-slate-200 shadow-sm flex flex-col justify-center font-bold font-bold font-bold font-bold font-bold"><h3 class="text-orange-600 mb-1 font-bold">Izod Impact (ì¶©ê²©ê°•ë„)</h3><p class="text-slate-500 font-medium font-bold">ì™¸ë¶€ ì¶©ê²© ì €í•­ì„±</p></div>
                    <div class="bg-white p-3 rounded-xl border border-slate-200 shadow-sm flex flex-col justify-center font-bold font-bold font-bold font-bold font-bold"><h3 class="text-purple-600 mb-1 font-bold font-bold">Hardness (ê²½ë„ D/A)</h3><p class="text-slate-500 font-medium font-bold font-bold font-bold font-bold">í‘œë©´ ë‹¨ë‹¨í•¨ (A/D)</p></div>
                </div>
            </div>

            <!-- Right: Details Section -->
            <div class="lg:col-span-5 space-y-4 text-left font-bold font-bold font-bold">
                <h2 class="text-xl font-bold text-slate-700 font-bold font-bold font-bold">ğŸ” ì†Œì¬ë³„ ìƒì„¸ í”„ë¡œí•„</h2>
                <div id="material-btns-container" class="grid grid-cols-3 gap-2 font-bold font-bold font-bold"></div>

                <div id="detail-view" class="bg-slate-100 p-6 rounded-2xl shadow-md border-t-8 border-slate-300 min-h-[500px] flex flex-col justify-center overflow-y-auto font-bold font-bold font-bold">
                    <div id="material-content">
                        <div id="default-msg" class="text-center font-bold font-bold font-bold font-bold">
                            <p class="text-slate-400 font-medium italic">ì†Œì¬ë¥¼ ì„ íƒí•˜ì—¬ ìƒì„¸ íŠ¹ì§•ì„ í™•ì¸í•˜ì„¸ìš”.</p>
                        </div>
                        <div id="active-content" class="hidden space-y-6 font-bold font-bold font-bold font-bold">
                            <div class="space-y-2 font-bold font-bold">
                                <div class="flex items-center justify-between font-bold font-bold">
                                    <div class="flex items-center gap-3 font-bold font-bold">
                                        <h3 id="mat-title" class="text-2xl font-bold font-bold font-bold">ì†Œì¬ëª…</h3>
                                        <span id="mat-tag" class="text-xs px-2 py-1 rounded-full font-bold font-bold font-bold font-bold">íƒœê·¸</span>
                                    </div>
                                    <div id="mat-color-chip" class="flex items-start gap-2 font-bold font-bold"></div>
                                </div>
                                <p id="mat-desc" class="text-base text-slate-700 font-semibold italic font-bold font-bold font-bold font-bold">"ì„¤ëª…"</p>
                                <p class="text-xs text-slate-500 font-bold font-bold font-bold">ì œê³µ ìƒ‰ìƒ: <span id="mat-color-text" class="font-bold text-slate-700 font-bold font-bold font-bold"></span></p>
                            </div>
                            
                            <div class="space-y-4 font-bold font-bold font-bold font-bold font-bold">
                                <div><h4 class="text-sm font-bold text-slate-900 mb-1 font-bold font-bold font-bold font-bold font-bold font-bold">ğŸ’¡ ì£¼ìš” íŠ¹ì§•</h4><p id="mat-features" class="text-sm text-slate-600 leading-relaxed whitespace-pre-line font-medium font-bold font-bold"></p></div>
                                <div><h4 class="text-sm font-bold text-slate-900 mb-1 font-bold font-bold font-bold font-bold font-bold font-bold">ğŸš€ ì¶”ì²œ ì–´í”Œë¦¬ì¼€ì´ì…˜</h4><p id="mat-apps" class="text-sm text-slate-600 leading-relaxed font-medium font-bold font-bold"></p></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Property Table -->
        <div class="overflow-x-auto bg-white p-6 rounded-2xl shadow-sm border border-slate-200 mb-8 font-bold font-bold font-bold font-bold font-bold">
            <h2 class="text-xl font-bold mb-4 text-slate-700 font-bold font-bold font-bold font-bold font-bold font-bold font-bold font-bold font-bold font-bold font-bold">ğŸ“Š ìƒì„¸ ë¬¼ì„± ë°ì´í„° ë¹„êµ</h2>
            <table class="w-full text-left border-collapse text-xs md:text-sm font-bold font-bold font-bold font-bold font-bold font-bold font-bold" id="material-table">
                <thead id="table-head"></thead>
                <tbody id="table-body"></tbody>
            </table>
        </div>

        <footer class="mt-12 text-center text-slate-400 text-sm pb-8 border-t border-slate-200 pt-8 font-medium font-bold font-bold font-bold font-bold font-bold font-bold">
            Â© 2024 ìºë¦¬ë§ˆí… ë ˆì§„ ë¬¼ì„± ê°€ì´ë“œ | Elasto ê²½ë„(Shore A) ì‹œê°ì  êµ¬ë¶„ ì ìš© ì™„ë£Œ
        </footer>
    </div>

    <script>
        const colorThemes = {
            blue: { color: 'bg-blue-50', border: 'border-blue-800', text: 'text-blue-900', tagColor: 'bg-blue-200', tableClass: 'bg-blue-100', borderColor: '#1e3a8a' },
            orange: { color: 'bg-orange-50', border: 'border-orange-600', text: 'text-orange-800', tagColor: 'bg-orange-200', tableClass: 'bg-orange-100', borderColor: '#ea580c' },
            green: { color: 'bg-green-50', border: 'border-green-700', text: 'text-green-800', tagColor: 'bg-green-200', tableClass: 'bg-green-100', borderColor: '#15803d' },
            yellow: { color: 'bg-yellow-50', border: 'border-yellow-500', text: 'text-yellow-800', tagColor: 'bg-yellow-200', tableClass: 'bg-yellow-100', borderColor: '#ca8a04' },
            sky: { color: 'bg-sky-50', border: 'border-sky-500', text: 'text-sky-800', tagColor: 'bg-sky-200', tableClass: 'bg-sky-100', borderColor: '#0ea5e9' },
            pink: { color: 'bg-pink-50', border: 'border-pink-500', text: 'text-pink-800', tagColor: 'bg-pink-200', tableClass: 'bg-pink-100', borderColor: '#db2777' },
            teal: { color: 'bg-teal-50', border: 'border-teal-800', text: 'text-teal-900', tagColor: 'bg-teal-200', tableClass: 'bg-teal-100', borderColor: '#0d9488' },
            rose: { color: 'bg-rose-50', border: 'border-rose-800', text: 'text-rose-900', tagColor: 'bg-rose-200', tableClass: 'bg-rose-100', borderColor: '#e11d48' },
            darkSlate: { color: 'bg-slate-100', border: 'border-slate-800', text: 'text-slate-900', tagColor: 'bg-slate-300', tableClass: 'bg-slate-200', borderColor: '#1e293b' },
            pureWhite: { color: 'bg-slate-50', border: 'border-slate-400', text: 'text-slate-900', tagColor: 'bg-slate-200', tableClass: 'bg-slate-100', borderColor: '#64748b' }
        };

        const resinData = {
            engineering: {
                rigid: { idx: 0, zoomMax: 10, title: 'Rigid V2 Black', tag: 'ê³ ê°•ì„±/ì •ì ëª¨ë¸', ...colorThemes.blue, features: 'Â· ë†’ì€ ê°•ì„±ê³¼ ì¹˜ìˆ˜ ì•ˆì •ì„±\nÂ· ì™¸ë¶€ í˜ì— ì˜í•œ ë³€í˜•ì´ ê±°ì˜ ì—†ëŠ” ë‹¨ë‹¨í•¨', apps: 'ì •ì  ì „ì‹œ ëª¨ë¸, ê²€ì‚¬ìš© ì§€ê·¸, ì •ë°€ ì¼€ì´ìŠ¤.', stats: { visc: '2822', modulus: '2859', strength: '80.8', elongation: '6.4', impact: '41.5', hardness: '74.5', color: 'Black', unit: 'D' }, chart: [{x: 0, y: 0}, {x: 2, y: 60}, {x: 4, y: 82}, {x: 6.4, y: 80.8}] },
                toughi: { idx: 1, zoomMax: 20, title: 'Tough V2 I Black', tag: 'ê°•ë„/ë‚´ì¶©ê²©', ...colorThemes.orange, features: 'Â· ë†’ì€ ê°•ì„±ê³¼ ê°•ë„\nÂ· ì¶©ê²©ì— ê°•í•œ ëª¨ë¸ë§ ì¶œë ¥ì— ì í•©', apps: 'ê¸°ëŠ¥ì„± ì‹œì œí’ˆ, ì¸í´ë¡œì €, ë³´í˜¸ìš© ì»¤ë²„.', stats: { visc: '1000', modulus: '2155', strength: '71.5', elongation: '10.4', impact: '43.7', hardness: '61.0', color: 'Black', unit: 'D' }, chart: [{x: 0, y: 0}, {x: 3, y: 55}, {x: 6, y: 72}, {x: 10.4, y: 50}] },
                toughe: { idx: 2, zoomMax: 120, title: 'Tough V2 E Black', tag: 'ìœ ì—°/ë‚´êµ¬ì„±', ...colorThemes.green, features: 'Â· ë†’ì€ ìœ ì—°ì„± ë° ë‚´êµ¬ì„±\nÂ· ë°˜ë³µì ì¸ êµ¬ë™ì´ë‚˜ êµ¬ë¶€ë¦¼ì—ë„ íŒŒì†ë˜ì§€ ì•ŠìŒ', apps: 'ë¦¬ë¹™ íŒì§€, ìŠ¤ëƒ…í• ì¡°ì¸íŠ¸, ë°˜ë³µ ì²´ê²°ìš© í´ë¦½.', stats: { visc: '700', modulus: '984', strength: '34.5', elongation: '100.6', impact: '76.1', hardness: '56.5', color: 'Black', unit: 'D' }, chart: [{x: 0, y: 0}, {x: 10, y: 35}, {x: 60, y: 28}, {x: 100.6, y: 34.5}] },
                hard21: { idx: 3, zoomMax: 5, title: 'HARD21 Yellowish', tag: 'ì´ˆê³ ê°•ë„/ê³ ì •ë°€', ...colorThemes.yellow, features: 'Â· ê³ ê°•ë„ì˜ ì†Œì¬ë¡œ ì™¸ë¶€ì˜ í˜ì— ë‚®ì€ ë³€í˜•ë¥ \nÂ· ê¸ˆì† ê°€ê³µí’ˆ ëŒ€ì²´ ê°€ëŠ¥í•œ ìˆ˜ì¤€', apps: 'ì†Œí˜• ì •ë°€ ê¸°ì–´, ê³ ë¶€í•˜ ë¸Œë¼ì¼“.', stats: { visc: '200', modulus: '4200', strength: '92', elongation: '2.8', impact: '10.0', hardness: '86', color: 'Yellowish', unit: 'D' }, chart: [{x: 0, y: 0}, {x: 1.5, y: 50}, {x: 2.8, y: 92.0}] },
                elasto70: { idx: 4, zoomMax: 300, title: 'Elasto 70 Black', tag: 'ê³ íƒ„ì„±/ì €ê²½ë„', ...colorThemes.sky, features: 'Â· ê³ ë¬´ì™€ ê°™ì€ ë†’ì€ íƒ„ì„±ê³¼ ìœ ì—°ì„±\nÂ· ìš°ìˆ˜í•œ ì¶©ê²© í¡ìˆ˜ìœ¨ê³¼ ë¯¸ë„ëŸ¼ ë°©ì§€', apps: 'ê°€ìŠ¤ì¼“, ì”°, ì™„ì¶©ìš© íŒ¨ë“œ.', stats: { visc: '5000', modulus: '40', strength: '6.6', elongation: '222.7', impact: '80.0', hardness: '78', color: 'Black', unit: 'A' }, chart: [{x: 0, y: 0}, {x: 100, y: 5}, {x: 222.7, y: 6.6}] },
                elasto85: { idx: 5, zoomMax: 300, title: 'Elasto 85 Black', tag: 'ê³ íƒ„ì„±/ë‚´ë§ˆëª¨', ...colorThemes.pink, features: 'Â· ê°•ë ¥í•œ ë¬¼ì„±ì˜ ê³ ì„±ëŠ¥ 1ì•¡í˜• íƒ„ì„± ì†Œì¬\nÂ· ë°˜ë³µ ë³€í˜• ì‹œ ë³µì›ë ¥ì´ ìš°ìˆ˜í•¨', apps: 'ì‹ ë°œ ë°‘ì°½, í•¸ë“¤ ê·¸ë¦½, ì‚°ì—…ìš© íŠœë¸Œ.', stats: { visc: '5000', modulus: '58', strength: '8.0', elongation: '287.0', impact: '85.0', hardness: '85.5', color: 'Black', unit: 'A' }, chart: [{x: 0, y: 0}, {x: 100, y: 6}, {x: 287, y: 8.0}] }
            },
            functional: {
                fr: { idx: 0, title: 'Flame Retardant', tag: 'ë‚œì—°/ë‚´ì¶©ê²©', ...colorThemes.darkSlate, features: 'Â· íƒì›”í•œ ë‚œì—° ì„±ëŠ¥ (UL94 V-0ê¸‰)\nÂ· ì™¸ë¶€ ì¶©ê²©ì— ê°•í•œ ë‚´êµ¬ì„±', apps: 'ë°°í„°ë¦¬ ì¼€ì´ìŠ¤, ì „ê¸°ì°¨ ë‚´ë¶€ ë¶€í’ˆ.', stats: { visc: '2400', modulus: '1265', strength: '38.7', elongation: '18.4', impact: '30.0', hardness: '79.5', color: 'Gray', unit: 'D' } },
                prof_gray: { idx: 1, title: 'Professional Gray', tag: 'ê³ ì†ì¶œë ¥/ë§¤íŠ¸', ...colorThemes.darkSlate, features: 'Â· ë¹ ë¥¸ ì¶œë ¥ ì†ë„ì™€ ë¶€ë“œëŸ¬ìš´ ì§ˆê°\nÂ· ë§¤íŠ¸í•œ ë§ˆê°ìœ¼ë¡œ ì‹œê°ì  í€„ë¦¬í‹° ìš°ìˆ˜', apps: 'ë””ìì¸ ëª©ì—…, ì •ë°€ ì¸í˜•, ì†Œë¹„ì¬.', stats: { visc: '180', modulus: '1700', strength: '55', elongation: '4', impact: '20.0', hardness: '82', color: 'Gray', unit: 'D' } },
                pro_htr: { idx: 2, title: 'Pro HTR', tag: 'ì´ˆê³ ë‚´ì—´ (270â„ƒ)', ...colorThemes.yellow, features: 'Â· ë†’ì€ ê²½ë„ì™€ ì¸ì¥ê°•ë„\nÂ· 270Â°C ì´ìƒì˜ ì´ˆê³ ë‚´ì—´ ì˜¨ë„ êµ¬í˜„', apps: 'ì‚°ì—…ìš© ë‚´ì—´ ì§€ê·¸, ëª°ë”©, ì—”ì§„ë£¸ í…ŒìŠ¤íŠ¸.', stats: { visc: '1622', modulus: '3200', strength: '56', elongation: '1', impact: '10.0', hardness: '90', color: 'Yellow/Gray', unit: 'D' } },
                micro150: { idx: 3, title: 'Micro 150', tag: 'ì •ë°€/íˆ¬ëª…', ...colorThemes.sky, features: 'Â· ë§ˆì´í¬ë¡œ ì±„ë„ êµ¬í˜„ ê°€ëŠ¥í•œ ê³ íˆ¬ëª… ì†Œì¬\nÂ· ì •ë°€í•œ ë””í…Œì¼ í‘œí˜„ë ¥', apps: 'ë§ˆì´í¬ë¡œ ìœ ì²´ ì¹©(Lab-on-a-chip).', stats: { visc: '250', modulus: '1800', strength: '40', elongation: '10', impact: '15.0', hardness: '83', color: 'Clear', unit: 'D' } }
            },
            general: {
                cmyk: { idx: 0, title: 'ë¬´ë…ì„± CMYK', tag: 'ì¹œí™˜ê²½/ì €ì ë„', ...colorThemes.teal, features: 'Â· í”¼ë¶€ ë¹„ìê·¹, ë¬´ë…ì„± ì¹œí™˜ê²½ ì†Œì¬\nÂ· 6ê°€ì§€ ìƒ‰ìƒ ë°°í•© ë° ììœ ë¡œìš´ ì¡°ìƒ‰ ê°€ëŠ¥', apps: 'êµìœ¡ìš© ì‹¤ìŠµ, í”¼ê·œì–´, ì¥ë‚œê°.', stats: { visc: '350', modulus: '2300', strength: '50', elongation: '4', impact: '18.0', hardness: '84', color: 'C/M/Y/K/W/CL', unit: 'D' } },
                std_black: { idx: 1, title: 'Standard Black', tag: 'í‘œì¤€í˜•/ë‹¨ë‹¨í•¨', ...colorThemes.darkSlate, features: 'Â· ì—í­ì‹œ ê¸°ë°˜ì˜ ê²¬ê³ í•œ ë¬¼ì„±\nÂ· ë§¤ë„ëŸ¬ìš´ í‘œë©´ê³¼ ë¹ ë¥¸ ì¶œë ¥ ì†ë„', apps: 'ë²”ìš© ëª©ì—…, ë””ìì¸ í™•ì¸ìš© ìƒ˜í”Œ.', stats: { visc: '120', modulus: '2700', strength: '84', elongation: '4', impact: '22.0', hardness: '87', color: 'Black', unit: 'D' } },
                fig_gray: { idx: 2, title: 'Figure Gray', tag: 'ê³ ì •ë°€/í”¼ê·œì–´', ...colorThemes.darkSlate, features: 'Â· ë†’ì€ í‘œë©´ì¡°ë„ì™€ ì„œí¬íŠ¸ ì œê±° ìš©ì´ì„±\nÂ· ì´ˆë³´ìë„ ì‰½ê²Œ ì •ë°€ ì¶œë ¥ ê°€ëŠ¥', apps: 'í”¼ê·œì–´ ë§ˆìŠ¤í„° ëª¨ë¸, ìˆ˜ì§‘í’ˆ.', stats: { visc: '240', modulus: '2200', strength: '79', elongation: '5', impact: '25.0', hardness: '85', color: 'Gray', unit: 'D' } },
                fig_beige: { idx: 3, title: 'Figure Beige', tag: 'ê³ ì •ë°€/ê³ ê°•ì„±', ...colorThemes.orange, features: 'Â· ë°ì€ ë² ì´ì§€ ìƒ‰ìƒìœ¼ë¡œ ë””í…Œì¼ í™•ì¸ ìš©ì´\nÂ· ê³ ê°•ì„± ì •ë°€ ë¶€í’ˆ ì¶œë ¥ìš©', apps: 'ì¹˜ê³¼ ëª¨ë¸, ì •ë°€ ì£¼ì¡° ë§ˆìŠ¤í„°.', stats: { visc: '360', modulus: '3000', strength: '64', elongation: '5', impact: '24.0', hardness: '85', color: 'Beige', unit: 'D' } },
                matt_white: { idx: 4, title: 'Matt White', tag: 'ë¬´ê´‘/ê³ ê¸‰ì§ˆê°', ...colorThemes.pureWhite, features: 'Â· ë³€ìƒ‰ ì—†ëŠ” í°ìƒ‰ ë¬´ê´‘íƒ ì§ˆê°\nÂ· ê³ ì† ì¶œë ¥ê³¼ ì‹œê°ì  ë§Œì¡±ë„ ë™ì‹œ ì œê³µ', apps: 'ì¸í…Œë¦¬ì–´ ì†Œí’ˆ, ê³ ê¸‰í˜• ì†Œë¹„ì¬ ì‹œì œí’ˆ.', stats: { visc: '312', modulus: '1200', strength: '53', elongation: '6', impact: '20.0', hardness: '83', color: 'White', unit: 'D' } }
            }
        };

        let currentCategory = 'engineering';
        let lockedMaterialId = null;
        let mySSChart = null;
        let myRadarChart = null;

        window.switchCategory = function(cat) {
            currentCategory = cat;
            lockedMaterialId = null;
            document.querySelectorAll('.category-tab').forEach(t => { t.classList.remove('active'); t.classList.add('text-slate-500'); });
            const activeTab = document.getElementById(`tab-${cat}`);
            if (activeTab) { activeTab.classList.add('active'); activeTab.classList.remove('text-slate-500'); }
            
            const ssContainer = document.getElementById('ss-container');
            if (cat === 'engineering') ssContainer.style.display = 'block';
            else ssContainer.style.display = 'none';
            
            window.renderSystem();
            window.resetMaterialUI();
        };

        window.renderSystem = function() {
            const catData = resinData[currentCategory];
            if (!catData) return;
            const sortedIds = Object.keys(catData).sort((a,b) => catData[a].idx - catData[b].idx);
            const btnContainer = document.getElementById('material-btns-container');
            const tableHead = document.getElementById('table-head');
            const tableBody = document.getElementById('table-body');
            if (!btnContainer || !tableHead || !tableBody) return;

            btnContainer.innerHTML = '';
            sortedIds.forEach(id => {
                const mat = catData[id];
                const btn = document.createElement('button');
                btn.className = `material-btn py-3 px-1 text-[11px] font-bold rounded-lg border ${mat.border?.replace('border-', 'border-opacity-20 ') || 'border-slate-200'} ${mat.color || 'bg-white'} ${mat.text || 'text-slate-800'} hover:shadow-md transition-all font-bold`;
                btn.id = `btn-${id}`; btn.innerText = mat.title;
                btn.onmouseover = () => { if (!lockedMaterialId) window.updateMaterialUI(id); };
                btn.onmouseleave = () => { if (!lockedMaterialId) window.resetMaterialUI(); };
                btn.onclick = () => window.handleClick(id);
                btnContainer.appendChild(btn);
            });

            let headHtml = `<tr class="bg-slate-100 font-bold"><th class="p-3 border">Properties (ë¬¼ì„±)</th><th class="p-3 border">Unit (ë‹¨ìœ„)</th>`;
            sortedIds.forEach(id => { headHtml += `<th class="p-3 border col-${id}">${catData[id].title}</th>`; });
            tableHead.innerHTML = headHtml + `</tr>`;

            const statsLabels = [{label:'ì œê³µ ìƒ‰ìƒ',unit:'-',key:'color'},{label:'ì ë„',unit:'cP',key:'visc'},{label:'íƒ„ì„±ê³„ìˆ˜',unit:'MPa',key:'modulus'},{label:'ì¸ì¥ê°•ë„',unit:'MPa',key:'strength'},{label:'ì—°ì‹ ìœ¨',unit:'%',key:'elongation'},{label:'ì¶©ê²©ê°•ë„',unit:'J/m',key:'impact'},{label:'ê²½ë„',unit:'D/A',key:'hardness'}];
            let bodyHtml = '';
            statsLabels.forEach((stat, i) => {
                bodyHtml += `<tr class="${i % 2 === 1 ? 'bg-slate-50' : ''} text-xs font-bold font-bold"><td class="p-3 border font-bold font-bold font-bold font-bold">${stat.label}</td><td class="p-3 border text-[10px] font-bold font-bold font-bold font-bold font-bold font-bold">${stat.unit}</td>`;
                sortedIds.forEach(id => { 
                    let val = catData[id].stats[stat.key];
                    if (stat.key === 'hardness') val += catData[id].stats.unit; // ê²½ë„ ë‹¨ìœ„ í‘œì‹œ
                    bodyHtml += `<td class="p-3 border col-${id} font-bold font-bold font-bold font-bold font-bold font-bold">${val}</td>`; 
                });
                bodyHtml += `</tr>`;
            });
            tableBody.innerHTML = bodyHtml;
            window.initCharts();
        };

        window.initCharts = function() {
            const ctxSS = document.getElementById('ssCurveChart')?.getContext('2d');
            const ctxRadar = document.getElementById('radarChart')?.getContext('2d');
            const catData = resinData[currentCategory];
            const sortedIds = Object.keys(catData).sort((a,b) => catData[a].idx - catData[b].idx);

            if (currentCategory === 'engineering' && ctxSS) {
                const ssDatasets = sortedIds.filter(id => id !== 'hard21').map(id => ({
                    label: catData[id].title, borderColor: catData[id].borderColor, data: catData[id].chart || [], showLine: true, tension: 0.2, borderWidth: 3, pointRadius: 0
                }));
                if (mySSChart) mySSChart.destroy();
                mySSChart = new Chart(ctxSS, { type: 'scatter', data: { datasets: ssDatasets }, options: { responsive: true, maintainAspectRatio: false, scales: { x: { min: 0, max: 300, title: { display: true, text: 'Strain (%)' } }, y: { min: 0, max: 100, title: { display: true, text: 'Stress (MPa)' } } }, plugins: { legend: { position: 'top', labels: { boxWidth: 10, font: { weight: 'bold' } } } } } });
            }

            if (ctxRadar) {
                const radarLabels = ['Strength (ì¸ì¥ê°•ë„)', 'Modulus (íƒ„ì„±ê³„ìˆ˜)', 'Elongation (ì—°ì‹ ìœ¨)', 'Flowability (íë¦„ì„±)', 'Hardness (ê²½ë„ D/A)', 'Izod Impact (ì¶©ê²©ê°•ë„)'];
                const radarDatasets = sortedIds.map(id => {
                    const s = catData[id].stats;
                    const mScale = (currentCategory === 'engineering') ? 45.0 : 35.0; 
                    const flow = 100 - (parseFloat(s.visc) / (currentCategory === 'engineering' ? 60.0 : 50.0));
                    const impactVal = s.impact === '-' ? 0 : parseFloat(s.impact);
                    
                    // ê²½ë„ ì •ê·œí™” (Aë‹¨ìœ„ëŠ” Dë³´ë‹¤ í›¨ì”¬ ë¬´ë¥´ë¯€ë¡œ ìŠ¤ì¼€ì¼ ì¡°ì •)
                    const hardnessVal = s.unit === 'A' ? (parseFloat(s.hardness) * 0.4) : parseFloat(s.hardness);

                    const data = [
                        parseFloat(s.strength) * 1.0, parseFloat(s.modulus) / mScale, 
                        parseFloat(s.elongation) * (currentCategory === 'engineering' ? 0.35 : 5.0), 
                        flow < 0 ? 0 : flow, hardnessVal, impactVal
                    ];
                    return { label: catData[id].title, backgroundColor: catData[id].borderColor + '22', borderColor: catData[id].borderColor, data: data, borderWidth: 2, pointRadius: 2 };
                });
                if (myRadarChart) myRadarChart.destroy();
                myRadarChart = new Chart(ctxRadar, { type: 'radar', data: { labels: radarLabels, datasets: radarDatasets }, options: { responsive: true, maintainAspectRatio: false, scales: { r: { min: 0, max: 100, ticks: { display: false }, pointLabels: { font: { size: 9, weight: 'bold' } } } }, plugins: { legend: { position: 'top', labels: { boxWidth: 10, font: { weight: 'bold' } } } } } });
            }
        };

        window.handleClick = function(id) {
            const btns = document.querySelectorAll('.material-btn');
            if (lockedMaterialId === id) { lockedMaterialId = null; btns.forEach(b => b.classList.remove('active', 'ring-2', 'ring-offset-2', 'ring-indigo-400')); window.resetMaterialUI(); }
            else { lockedMaterialId = id; btns.forEach(b => { const isActive = b.id === `btn-${id}`; b.classList.toggle('active', isActive); if (isActive) b.classList.add('ring-2', 'ring-offset-2', 'ring-indigo-400'); else b.classList.remove('ring-2', 'ring-offset-2', 'ring-indigo-400'); }); window.updateMaterialUI(id); }
        };

        window.updateMaterialUI = function(id) {
            const data = resinData[currentCategory][id];
            if (!data) return;
            const card = document.getElementById('detail-view');
            const activeContent = document.getElementById('active-content');
            const defaultMsg = document.getElementById('default-msg');
            if (defaultMsg) defaultMsg.classList.add('hidden'); if (activeContent) activeContent.classList.remove('hidden');
            if (card) card.className = `${data.color} p-6 rounded-2xl shadow-md border-t-8 ${data.border} min-h-[500px] flex flex-col justify-center overflow-y-auto font-bold`;

            document.getElementById('mat-title').innerText = data.title;
            document.getElementById('mat-tag').innerText = data.tag;
            document.getElementById('mat-desc').innerText = `"${data.features.split('\n')[0].replace('Â· ', '')}"`;
            document.getElementById('mat-features').innerText = data.features;
            document.getElementById('mat-apps').innerText = data.apps;
            
            // ê²½ë„ ìœ ë‹› ê°•ì¡° í‘œì‹œ
            const hardnessInfo = data.stats.hardness + (data.stats.unit === 'A' ? " <span class='text-red-500'>(Shore A)</span>" : "D");
            document.getElementById('mat-color-text').innerHTML = `${data.stats.color} / ê²½ë„: ${hardnessInfo}`;

            const chipContainer = document.getElementById('mat-color-chip');
            if (chipContainer) {
                chipContainer.innerHTML = '';
                const colorMap = { 'C': '#00aeef', 'M': '#ec008c', 'Y': '#fff200', 'K': '#000000', 'W': '#ffffff', 'CL': '#ffffff', 'Black': '#000', 'Gray': '#64748b', 'Beige': '#d4b996', 'Amber/Clear': '#ffbf00', 'Yellowish': '#fdfd96', 'Transparent': '#f8fafc', 'White': '#fff', 'Yellow': '#fff200', 'Clear': '#ffffff' };
                const currentColors = data.stats.color.includes('/') ? data.stats.color.split('/') : [data.stats.color];
                currentColors.forEach(c => {
                    const wrapper = document.createElement('div'); wrapper.className = "flex flex-col items-center";
                    const dot = document.createElement('div'); dot.className = "w-4 h-4 rounded-full border border-slate-300 shadow-sm " + ( (c === 'Clear' || c === 'CL') ? "color-dot-clear" : (c === 'Transparent' ? "color-dot-transparent" : "") );
                    if (!c.includes('Clear') && !c.includes('Transparent') && c !== 'CL') dot.style.backgroundColor = colorMap[c] || '#ddd';
                    wrapper.appendChild(dot);
                    if (c === 'Clear' || c === 'CL' || c === 'Transparent') { const label = document.createElement('span'); label.className = "cl-label font-bold"; label.innerText = "CL"; wrapper.appendChild(label); }
                    chipContainer.appendChild(wrapper);
                });
            }

            document.getElementById('mat-title').className = `text-2xl font-bold ${data.text}`;
            document.getElementById('mat-tag').className = `${data.tagColor} text-slate-900 text-xs px-2 py-1 rounded-full font-bold`;

            document.querySelectorAll('#material-table td, #material-table th').forEach(el => el.classList.remove('bg-blue-100', 'bg-orange-100', 'bg-green-100', 'bg-yellow-100', 'bg-sky-100', 'bg-pink-100', 'bg-slate-200', 'bg-slate-100', 'font-bold'));
            if (lockedMaterialId === id) document.querySelectorAll(`.col-${id}`).forEach(el => el.classList.add(data.tableClass, 'font-bold'));

            const sortedIds = Object.keys(resinData[currentCategory]).sort((a,b) => resinData[currentCategory][a].idx - resinData[currentCategory][b].idx);
            if (currentCategory === 'engineering' && mySSChart) {
                const ssSortedIds = sortedIds.filter(sid => sid !== 'hard21');
                mySSChart.data.datasets.forEach((ds, i) => { if (mySSChart.data.datasets[i]) mySSChart.setDatasetVisibility(i, ssSortedIds[i] === id); });
                mySSChart.options.scales.x.max = data.zoomMax || 300; mySSChart.update();
                document.getElementById('zoom-indicator').classList.toggle('hidden', (data.zoomMax || 300) >= 100);
            }
            if (myRadarChart) { myRadarChart.data.datasets.forEach((ds, i) => { if (myRadarChart.data.datasets[i]) myRadarChart.setDatasetVisibility(i, sortedIds[i] === id); }); myRadarChart.update(); }
        };

        window.resetMaterialUI = function() {
            const elements = ['default-msg', 'active-content', 'zoom-indicator', 'detail-view'].map(id => document.getElementById(id));
            if (elements[0]) elements[0].classList.remove('hidden'); if (elements[1]) elements[1].classList.add('hidden'); if (elements[2]) elements[2].classList.add('hidden');
            if (elements[3]) elements[3].className = `bg-slate-100 p-8 rounded-2xl shadow-md border-t-8 border-slate-300 h-[430px] flex flex-col justify-center font-bold`;
            document.querySelectorAll('#material-table td, #material-table th').forEach(el => el.classList.remove('font-bold', 'bg-blue-100', 'bg-orange-100', 'bg-green-100', 'bg-yellow-100', 'bg-sky-100', 'bg-pink-100', 'bg-slate-200', 'bg-slate-100'));
            if (mySSChart && currentCategory === 'engineering') { mySSChart.data.datasets.forEach((ds, i) => mySSChart.setDatasetVisibility(i, true)); mySSChart.options.scales.x.max = 300; mySSChart.update(); }
            if (myRadarChart) { myRadarChart.data.datasets.forEach((ds, i) => myRadarChart.setDatasetVisibility(i, true)); myRadarChart.update(); }
            if (!lockedMaterialId) document.querySelectorAll('.material-btn').forEach(b => b.classList.remove('active', 'ring-2', 'ring-offset-2', 'ring-indigo-400'));
        };

        document.addEventListener('DOMContentLoaded', () => { window.renderSystem(); });
    </script>
</body>
</html>
